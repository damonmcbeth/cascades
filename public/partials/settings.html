

<div class="settingsbar sidebar-content" id="settingsbar" ng-controller="SettingsController">
    <div class="sidebar-header" style="height: auto">
        <div class="header-title">
            <span>Preferences</span>
        </div>
        <div class="header-close">
            <i class="pe-7s-angle-right-circle" ng-click="nav.hideSideViewForm()"></i>
        </div>
    </div>
    <div class="sidebar-body" resize height-offset="75" style="width: 100%">
	    <md-content class="settings" style="height: 100%; background-color: #f1f3f2">
		    <md-tabs md-dynamic-height="true">
		      <md-tab id="tabProfile">
		        <md-tab-label>Profile</md-tab-label>
		        <md-tab-body>
		        	<div class="p-10" style="background-color: #f1f3f2">
				        <form name="profileForm">
					        <div class="panel panel-default">
					            <div class="panel-body">
						            
						            <div class="row p-10 align-center">
					                    <div class="col">
						                    <div class="align-center m-b-10">
						                        <avatar size="lg" img="currPerson.avatar" state="'Established'" 
						                        		name="currPerson.name" type="currPerson.avatarType"></avatar>
						                    </div>
					                    
											<div>
												<h4>{{currPerson.name}}</h4>
											</div>
									        
					                        <div class="f-12 b-300 text-muted m-t-5">
					                            <span>{{ currPerson.status | uppercase }}</span>
					                        </div>
					                        
					                        <div class="b-400 m-t-20">
						                        <a href="" class="m-r-5" ng-click="openPersonDetails(currPerson.$id)">PROFILE DETAILS</a>|
						                        <a href="" class="m-l-5" ng-click="signOut()">SIGN OUT</a>
						                    </div>
					                    </div>
					                </div>
					            </div>
							</div>
							
							<div class="panel panel-default">
					            <div class="panel-body">
									<md-switch class="md-primary f-15 m-b-15" md-no-ink="true" ng-model="currPerson.sendEmails" ng-change="updatePerson()">
										Send emails for notifications
									</md-switch>
									<md-switch class="md-primary f-15 m-b-15" md-no-ink="true" ng-model="currPerson.sendNotifications" ng-change="updatePerson()">
										Enable desktop notifications
									</md-switch>

									<a href="" class="btn btn-inverse btn-block f-15 m-t-25" ng-click="resetPassword()">
										Reset Password
									</a>
					            </div>
							</div>
				        </form>
		        	</div>
		        
		        	<div class="p-15 f-14">
<!--pre>
{{ gs.currProfile | json }}
</pre>
<pre>
{{ gs.currPreferences | json }}
</pre-->
		        	</div>
		        </md-tab-body>
		      </md-tab>
		      <md-tab id="tabWorkspace">
		        <md-tab-label>Workspace</md-tab-label>
		        <md-tab-body>
					<div data-ng-include="'partials/settings_workspace.html'"></div>
		        	<div class="p-15 f-14">
<!--pre>
{{ gs.userWorkspaces | json }}
</pre-->
		        	</div>

		        </md-tab-body>
			  </md-tab>
			  
		      <md-tab id="tabTags">
		        <md-tab-label>Tags</md-tab-label>
		        <md-tab-body>
		        	<div data-ng-include="'partials/tagManager.html'" data-ng-controller="TagController"></div>

		        </md-tab-body>
		      </md-tab>
		      <md-tab id="tabTasks">
		        <md-tab-label>{{gs.currWorkspace.Terminology.taskAliasPlural}}</md-tab-label>
		        <md-tab-body>
		        	<div class="f-14">
						<md-content class="p-10" style="height: 100%; width: 100%; background-color: #f1f3f2" ng-show="!showDetails">
							<div class="panel panel-inverse">
							</div>

							<div class="panel panel-default">
								<div class="panel-body">

									<label>Due soon</label>
									<md-slider-container class="m-b-20">
										<span>days</span>
										<md-slider flex min="0" max="365" ng-model="taskDueSoon" aria-label="due soon" id="red-slider"
											class="md-primary"></md-slider>
										</md-slider>
										<md-input-container>
											<input flex type="number" ng-model="taskDueSoon" aria-label="due soon" aria-controls="red-slider">
										</md-input-container>
									</md-slider-container>



									<label>List default grouping</label>
									<md-input-container class="md-block m-b-20">	
										<md-radio-group ng-model="taskQuickGroup" layout="row">
											<md-radio-button value="{{g1.value}}" class="md-primary"
												ng-repeat="g1 in defaultGroupings">{{g1.label}}</md-radio-button>
										</md-radio-group>
									</md-input-container>
	
									<label>Board default grouping</label>
									<md-input-container class="md-block">
										<md-radio-group ng-model="taskBoardGroup" layout="row">
											<md-radio-button value="{{g2.value}}" class="md-primary"
												ng-repeat="g2 in defaultGroupings">{{g2.label}}</md-radio-button>
										</md-radio-group>
									</md-input-container>

									<label>Board default sorting</label>
									<md-input-container class="md-block">
										<md-radio-group ng-model="taskBoardOrder" layout="row">
											<md-radio-button value="{{g2.value}}" class="md-primary"
												ng-repeat="g2 in defaultGroupings">{{g2.label}}</md-radio-button>
										</md-radio-group>
									</md-input-container>
								</div>
							</div>
							
							<div class="panel panel-inverse">
								<div class="panel-heading">
									<h3 class="panel-title">{{gs.currWorkspace.Terminology.taskAlias}} Status</h3>
								</div>
								
								<div class="panel-body p-0">
									<md-list flex>
										<md-list-item class="md-1-line" ng-repeat="taskState in gs.currWorkspace.Settings.Task.states | orderBy:'order'" >
											<i class="pe-7s-close-circle m-r-10 f-20 text-danger" ng-show="taskState.editable"></i>
											<i class="pe-7s-less m-r-10 f-20 text-muted" ng-hide="taskState.editable"></i>
											<div class="md-list-item-text">
												<div class="list-title">{{taskState.label}}</div>
											</div>
											<div class="md-secondary p-10" ng-hide="taskState.label =='Done'">
												<i class="pe-7f-menu m-r-10 f-27 text-muted"></i>
											</div>
											<md-divider ></md-divider>
											
										</md-list-item>              
									</md-list>
								</div>
							</div>
						</md-content>
		        	</div>

		        </md-tab-body>
		      </md-tab>
		      <md-tab id="tabPeople">
		        <md-tab-label>{{gs.currWorkspace.Terminology.projectAliasPlural}}</md-tab-label>
		        <md-tab-body>
		        	<div class="p-10" style="background-color: #f1f3f2">
		        		<form name="projectForm">
					        <div class="panel panel-inverse">
						        <div class="panel-heading">
					                <h3 class="panel-title">{{gs.currWorkspace.Terminology.projectAlias}} Types</h3>
					            </div>
						        
					            <div class="panel-body">
<pre>
{{ gs.currWorkspace.Settings.Project.types | json }}
</pre>					            
					            </div>
					        </div>
				        </form>
		        	</div>
		        </md-tab-body>
		      </md-tab>
		      <md-tab id="tabPeople">
		        <md-tab-label>{{gs.currWorkspace.Terminology.clientAliasPlural}}</md-tab-label>
		        <md-tab-body>
		        	

		        </md-tab-body>
			  </md-tab>
			  <md-tab id="tabAbout">
		        <md-tab-label>About</md-tab-label>
		        <md-tab-body>
					<div class="align-center p-10">
						<div><image src="/assets/img/Timeline-128.png"></image></div>
						<div class="f-35 b-300">CASCADES</div>
						<div class="m-b-15">BETA</div>
						<div>Copyright &copy; 2017 CASCADES</div>
					</div>

		        </md-tab-body>
		      </md-tab>
		    </md-tabs>
	    </md-content>
    </div>
</div>
